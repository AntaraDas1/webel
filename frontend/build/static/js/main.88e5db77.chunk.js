(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n(21),s=n.n(c),i=(n(78),n(79),n(7)),o=(n(80),n(11)),l=n(10),j=n(116),u=n(117),d=n(65),b=function(){return Object(a.jsx)("footer",{style:{width:"100%",position:"relative",bottom:0,display:"flex",justifyContent:"center"},children:Object(a.jsx)(j.a,{children:Object(a.jsx)(u.a,{children:Object(a.jsx)(d.a,{className:"text-center py-3",children:"Copyright \xa9 Ankur Sarkar"})})})})},O=n(121),p=n(123),h=n(119),g=n(8),f=n(18),x=n.n(f),m=n(30),v="USER_LOGIN_REQUEST",y="USER_LOGIN_SUCCESS",S="USER_LOGIN_FAIL",E="USER_LOGOUT",C="USER_REGISTER_REQUEST",I="USER_REGISTER_SUCCESS",w="USER_REGISTER_FAIL",N="USER_UPDATE_REQUEST",_="USER_UPDATE_SUCCESS",T="USER_UPDATE_FAIL",L=n(25),U=n.n(L),R=function(e,t){return function(){var n=Object(m.a)(x.a.mark((function n(a){var r,c,s;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:v}),r={headers:{"Content-type":"application/json"}},n.next=5,U.a.post("/api/users/login",{email:e,password:t},r);case 5:c=n.sent,s=c.data,a({type:y,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),a({type:S,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()};var k=function(e){e.setSearch;var t=Object(g.b)(),n=Object(l.e)(),c=Object(g.c)((function(e){return e.userLogin})).userInfo;Object(r.useEffect)((function(){}),[c]);var s=localStorage.getItem("profilepic");return Object(a.jsx)(O.a,{collapseOnSelect:!0,expand:"lg",bg:"primary",variant:"dark",style:{border:"none",width:"100%",zIndex:"1"},children:Object(a.jsxs)(j.a,{children:[Object(a.jsx)(o.b,{to:"/",children:Object(a.jsx)(O.a.Brand,{children:"Webel"})}),Object(a.jsx)(O.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(a.jsxs)(O.a.Collapse,{id:"responsive-navbar-nav",children:[Object(a.jsx)(p.a,{className:"m-auto"}),Object(a.jsx)(p.a,{className:"xyz",children:c?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(h.a,{title:"".concat(c.name),id:"collasible-nav-dropdown",children:[Object(a.jsx)(h.a.Divider,{}),Object(a.jsx)(h.a.Item,{onClick:function(){t(function(){var e=Object(m.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:E});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.push("/")},children:"Logout"})]}),Object(a.jsx)(p.a.Item,{href:"",children:Object(a.jsx)("img",{src:s,style:{height:"37px",width:"37px",borderRadius:"50%"}})})]}):null})]})]})})},P=n(70);var A=function(e){var t=e.history,n=Object(g.c)((function(e){return e.userLogin})).userInfo;return console.log("User Info from landing/register page -- ",n),Object(r.useEffect)((function(){n&&t.push("/dashboard")}),[t,n]),Object(a.jsx)("div",{className:"main",children:Object(a.jsx)(j.a,{children:Object(a.jsx)(u.a,{children:Object(a.jsxs)("div",{className:"intro-text",children:["Landing Page",Object(a.jsxs)("div",{className:"buttonContainer",children:["User Login",Object(a.jsx)(o.b,{to:"/userlogin",children:Object(a.jsx)(P.a,{size:"lg",className:"landingbutton",children:"Login"})}),Object(a.jsx)(o.b,{to:"/userregister",children:Object(a.jsx)(P.a,{variant:"outline-primary",size:"lg",className:"landingbutton",children:"Signup"})})]}),Object(a.jsxs)("div",{className:"buttonContainer",children:["Admin Login",Object(a.jsx)(o.b,{to:"/adminlogin",children:Object(a.jsx)(P.a,{size:"lg",className:"landingbutton",children:"Login"})})]})]})})})})};n(110);var D=function(e){var t=e.children,n=e.title;return Object(a.jsx)("div",{className:"mainback",children:Object(a.jsx)(j.a,{children:Object(a.jsx)(u.a,{children:Object(a.jsxs)("div",{className:"page",children:[n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:"heading",children:n}),Object(a.jsx)("hr",{})]}),t]})})})})},G=n(122),F=n(125),B=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){var e=localStorage.getItem("notices");e&&c(JSON.parse(e))}),[]);var s=Object(g.c)((function(e){return e.userLogin})).userInfo;return Object(a.jsxs)(D,{title:"Welcome Back ".concat(s&&s.name,".."),children:[Object(a.jsx)("h1",{children:"User Dashboard"}),Object(a.jsx)("div",{className:"cardWrapper",style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)"},children:n&&n.map((function(e){return Object(a.jsx)(G.a,{children:Object(a.jsxs)(F.a,{style:{margin:10},children:[Object(a.jsx)(F.a.Header,{style:{display:"flex"},children:Object(a.jsx)(o.b,{to:"#",style:{color:"black",textDecoration:"none",flex:1,alignSelf:"center"},children:Object(a.jsx)(G.a.Toggle,{as:F.a.Text,variant:"link",eventKey:"0",children:e.title})})}),Object(a.jsx)(G.a.Collapse,{eventKey:"0",children:Object(a.jsxs)(F.a.Body,{children:[Object(a.jsx)("img",{src:e.pic,alt:e.title,style:{width:"100%"}}),Object(a.jsxs)("footer",{className:"blockquote-footer",children:["Created on"," ",Object(a.jsx)("cite",{title:"Source Title",children:e.createdAt})]})]})})]})},e._id)}))})]})},J=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){var e=localStorage.getItem("notices");e&&c(JSON.parse(e))}),[]);var s=Object(g.c)((function(e){return e.userLogin})).userInfo;return Object(a.jsxs)(D,{title:"Welcome Back ".concat(s&&s.name,".."),children:[Object(a.jsx)("h1",{children:"Admin Dashboard"}),Object(a.jsx)(o.b,{to:"newnotice",children:Object(a.jsx)(P.a,{style:{marginLeft:10,marginBottom:6},size:"lg",children:"Create a new Notice"})}),Object(a.jsx)("div",{className:"cardWrapper",style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)"},children:n&&n.map((function(e){return Object(a.jsx)(G.a,{children:Object(a.jsxs)(F.a,{style:{margin:10},children:[Object(a.jsxs)(F.a.Header,{style:{display:"flex"},children:[Object(a.jsx)(o.b,{to:"#",style:{color:"black",textDecoration:"none",flex:1,alignSelf:"center"},children:Object(a.jsx)(G.a.Toggle,{as:F.a.Text,variant:"link",eventKey:"0",children:e.title})}),Object(a.jsx)("div",{children:Object(a.jsx)(P.a,{variant:"danger",className:"mx-2",onClick:function(){return function(e){var t=n.filter((function(t){return t._id!==e}));c(t),localStorage.setItem("notices",JSON.stringify(t))}(e._id)},children:Object(a.jsx)("img",{src:"https://i.ibb.co/p0Gctkx/imageedit-2-2268632456.png",style:{width:"32px"}})})})]}),Object(a.jsx)(G.a.Collapse,{eventKey:"0",children:Object(a.jsxs)(F.a.Body,{children:[Object(a.jsx)("img",{src:e.pic,alt:e.title,style:{width:"100%"}}),Object(a.jsxs)("footer",{className:"blockquote-footer",children:["Created on"," ",Object(a.jsx)("cite",{title:"Source Title",children:e.createdAt})]})]})})]})},e._id)}))})]})},z=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=(t[0],t[1],Object(r.useState)("")),c=Object(i.a)(n,2),s=(c[0],c[1],Object(g.b)(),Object(g.c)((function(e){return e.userLogin}))),o=(s.loading,s.error,s.userInfo),l=o?o.isAdmin:null;return Object(a.jsx)("div",{children:1==l?Object(a.jsx)(J,{}):Object(a.jsx)(B,{})})},Q=n(120),H=n(118);var W=function(e){var t=e.size,n=void 0===t?100:t;return Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:Object(a.jsx)(H.a,{style:{width:n,height:n},animation:"border"})})},K=n(124),q=function(e){var t=e.variant,n=void 0===t?"info":t,r=e.children;return Object(a.jsx)(K.a,{variant:n,style:{fontSize:20},children:Object(a.jsx)("strong",{children:r})})};var M=function(e){var t=e.history,n=Object(r.useState)(""),c=Object(i.a)(n,2),s=c[0],l=c[1],j=Object(r.useState)(""),b=Object(i.a)(j,2),O=b[0],p=b[1],h=Object(g.b)(),f=Object(g.c)((function(e){return e.userLogin})),x=f.loading,m=f.error,v=f.userInfo;return Object(r.useEffect)((function(){v&&t.push("/dashboard")}),[t,v]),Object(a.jsx)(D,{title:"User LOGIN",children:Object(a.jsxs)("div",{className:"loginContainer",children:[m&&Object(a.jsx)(q,{variant:"danger",children:m}),x&&Object(a.jsx)(W,{}),Object(a.jsxs)(Q.a,{onSubmit:function(e){e.preventDefault(),h(R(s,O))},children:[Object(a.jsxs)(Q.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(Q.a.Label,{children:"Email address"}),Object(a.jsx)(Q.a.Control,{type:"email",value:s,placeholder:"Enter email",onChange:function(e){return l(e.target.value)}})]}),Object(a.jsxs)(Q.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(Q.a.Label,{children:"Password"}),Object(a.jsx)(Q.a.Control,{type:"password",value:O,placeholder:"Password",onChange:function(e){return p(e.target.value)}})]}),Object(a.jsx)(P.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(a.jsx)(u.a,{className:"py-3",children:Object(a.jsxs)(d.a,{children:["New Customer ? ",Object(a.jsx)(o.b,{to:"/userregister",children:"Register Here"})]})})]})})};var V=function(e){var t=e.history,n=Object(r.useState)(""),c=Object(i.a)(n,2),s=c[0],l=c[1],j=Object(r.useState)(""),b=Object(i.a)(j,2),O=b[0],p=b[1],h=Object(r.useState)("https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg"),f=Object(i.a)(h,2),v=f[0],S=f[1],E=Object(r.useState)(""),N=Object(i.a)(E,2),_=N[0],T=N[1],L=Object(r.useState)(""),R=Object(i.a)(L,2),k=R[0],A=R[1],G=Object(r.useState)(null),F=Object(i.a)(G,2),B=F[0],J=F[1],z=Object(r.useState)(null),H=Object(i.a)(z,2),K=H[0],M=H[1],V=Object(g.b)(),X=Object(g.c)((function(e){return e.userRegister})),Y=X.loading,Z=X.error,$=X.userInfo;return Object(r.useEffect)((function(){$&&t.push("/")}),[t,$]),Object(a.jsx)(D,{title:"User REGISTER",children:Object(a.jsxs)("div",{className:"loginContainer",children:[Z&&Object(a.jsx)(q,{variant:"danger",children:Z}),B&&Object(a.jsx)(q,{variant:"danger",children:B}),Y&&Object(a.jsx)(W,{}),Object(a.jsxs)(Q.a,{onSubmit:function(e){e.preventDefault(),_!==k?J("Passwords do not match"):V(function(e,t,n,a){return function(){var r=Object(m.a)(x.a.mark((function r(c){var s,i,o;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:C}),s={headers:{"Content-type":"application/json"}},r.next=5,U.a.post("/api/users",{name:e,pic:a,email:t,password:n},s);case 5:i=r.sent,o=i.data,c({type:I,payload:o}),c({type:y,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),c({type:w,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}()}(O,s,_,v))},children:[Object(a.jsxs)(Q.a.Group,{controlId:"name",children:[Object(a.jsx)(Q.a.Label,{children:"Name"}),Object(a.jsx)(Q.a.Control,{type:"name",value:O,placeholder:"Enter name",onChange:function(e){return p(e.target.value)}})]}),Object(a.jsxs)(Q.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(Q.a.Label,{children:"Email address"}),Object(a.jsx)(Q.a.Control,{type:"email",value:s,placeholder:"Enter email",onChange:function(e){return l(e.target.value)}})]}),Object(a.jsxs)(Q.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(Q.a.Label,{children:"Password"}),Object(a.jsx)(Q.a.Control,{type:"password",value:_,placeholder:"Password",onChange:function(e){return T(e.target.value)}})]}),Object(a.jsxs)(Q.a.Group,{controlId:"confirmPassword",children:[Object(a.jsx)(Q.a.Label,{children:"Confirm Password"}),Object(a.jsx)(Q.a.Control,{type:"password",value:k,placeholder:"Confirm Password",onChange:function(e){return A(e.target.value)}})]}),K&&Object(a.jsx)(q,{variant:"danger",children:K}),Object(a.jsxs)(Q.a.Group,{controlId:"pic",children:[Object(a.jsx)(Q.a.Label,{children:"Profile Picture"}),Object(a.jsx)(Q.a.File,{onChange:function(e){return function(e){if("https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg"===e)return M("Please Select an Image");if(M(null),"image/jpeg"!==e.type&&"image/png"!==e.type)return M("Please Select an Image");var t=new FormData;t.append("file",e),t.append("upload_preset","webelReact"),t.append("cloud_name","ankur02sarkar"),fetch("https://api.cloudinary.com/v1_1/ankur02sarkar/image/upload",{method:"post",body:t}).then((function(e){return e.json()})).then((function(e){S(e.url.toString())})).catch((function(e){console.log(e)}))}(e.target.files[0])},id:"custom-file",type:"image/png",label:"Upload Profile Picture",custom:!0})]}),Object(a.jsx)(P.a,{variant:"primary",type:"submit",children:"Register"})]}),Object(a.jsx)(u.a,{className:"py-3",children:Object(a.jsxs)(d.a,{children:["Have an Account ? ",Object(a.jsx)(o.b,{to:"/userlogin",children:"Login"})]})})]})})};var X=function(e){var t=e.history,n=Object(r.useState)(""),c=Object(i.a)(n,2),s=c[0],l=c[1],j=Object(r.useState)(""),b=Object(i.a)(j,2),O=b[0],p=b[1],h=Object(g.b)(),f=Object(g.c)((function(e){return e.userLogin})),x=f.loading,m=f.error,v=f.userInfo;return Object(r.useEffect)((function(){v&&t.push("/dashboard")}),[t,v]),Object(a.jsx)(D,{title:"Admin LOGIN",children:Object(a.jsxs)("div",{className:"loginContainer",children:[m&&Object(a.jsx)(q,{variant:"danger",children:m}),x&&Object(a.jsx)(W,{}),Object(a.jsxs)(Q.a,{onSubmit:function(e){e.preventDefault(),h(R(s,O))},children:[Object(a.jsxs)(Q.a.Group,{controlId:"formBasicEmail",children:[Object(a.jsx)(Q.a.Label,{children:"Email address"}),Object(a.jsx)(Q.a.Control,{type:"email",value:s,placeholder:"Enter email",onChange:function(e){return l(e.target.value)}})]}),Object(a.jsxs)(Q.a.Group,{controlId:"formBasicPassword",children:[Object(a.jsx)(Q.a.Label,{children:"Password"}),Object(a.jsx)(Q.a.Control,{type:"password",value:O,placeholder:"Password",onChange:function(e){return p(e.target.value)}})]}),Object(a.jsx)(P.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(a.jsx)(u.a,{className:"py-3",children:Object(a.jsxs)(d.a,{children:["New Customer ? ",Object(a.jsx)(o.b,{to:"/adminregister",children:"Register Here"})]})})]})})},Y=n(55);var Z=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(null),o=Object(i.a)(s,2),l=o[0],j=o[1],u=Object(r.useState)(""),d=Object(i.a)(u,2),b=d[0],O=d[1],p=Object(r.useState)([]),h=Object(i.a)(p,2),g=h[0],f=h[1],v=function(){var e=Object(m.a)(x.a.mark((function e(){var t,a,r,c,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",n),t.append("upload_preset","webelReact"),e.prev=3,e.next=6,U.a.post("https://api.cloudinary.com/v1_1/ankur02sarkar/image/upload",t);case 6:a=e.sent,r=a.data,c=r.url,r.public_id,j(c),s={_id:(g.length+1).toString(),title:b,pic:c},f([].concat(Object(Y.a)(g),[s])),localStorage.setItem("notices",JSON.stringify([].concat(Object(Y.a)(g),[s]))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("notices"));e&&f(e)}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"file",onChange:function(e){c(e.target.files[0])}}),Object(a.jsx)("input",{type:"text",onChange:function(e){O(e.target.value)},value:b}),Object(a.jsx)("button",{onClick:v,children:"Upload"}),l&&Object(a.jsx)("img",{src:l,alt:"Uploaded"})]})};var $=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=(t[0],t[1]);return Object(a.jsxs)(o.a,{children:[Object(a.jsx)(k,{setSearch:function(e){return n(e)}}),Object(a.jsxs)("main",{className:"App",style:{minHeight:"93vh"},children:[Object(a.jsx)(l.a,{path:"/",component:A,exact:!0}),Object(a.jsx)(l.a,{path:"/userlogin",component:M}),Object(a.jsx)(l.a,{path:"/userregister",component:V}),Object(a.jsx)(l.a,{path:"/adminlogin",component:X}),Object(a.jsx)(l.a,{path:"/dashboard",component:z}),Object(a.jsx)(l.a,{path:"/newnotice",component:Z})]}),Object(a.jsx)(b,{})]})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,126)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},te=n(29),ne=n(71),ae=n(72),re="NOTICE_LIST_REQUEST",ce="NOTICE_LIST_SUCCESS",se="NOTICE_LIST_FAIL",ie="NOTICE_CREATE_REQUEST",oe="NOTICE_CREATE_SUCCESS",le="NOTICE_CREATE_FAIL",je="NOTICE_UPDATE_REQUEST",ue="NOTICE_UPDATE_SUCCESS",de="NOTICE_UPDATE_FAIL",be="NOTICE_DELETE_REQUEST",Oe="NOTICE_DELETE_SUCCESS",pe="NOTICE_DELETE_FAIL",he=Object(te.combineReducers)({noticeList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notice:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return{loading:!0};case ce:return{loading:!1,notice:t.payload};case se:return{loading:!1,error:t.payload};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{loading:!0};case y:return{loading:!1,userInfo:t.payload};case S:return{loading:!1,error:t.payload};case E:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case I:return{loading:!1,userInfo:t.payload};case w:return{loading:!1,error:t.payload};default:return e}},noticeCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{loading:!0};case oe:return{loading:!1,success:!0};case le:return{loading:!1,error:t.payload};default:return e}},noticeDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return{loading:!0};case Oe:return{loading:!1,success:!0};case pe:return{loading:!1,error:t.payload,success:!1};default:return e}},noticeUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return{loading:!0};case ue:return{loading:!1,success:!0};case de:return{loading:!1,error:t.payload,success:!1};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case _:return{loading:!1,userInfo:t.payload,success:!0};case T:return{loading:!1,error:t.payload,success:!1};default:return e}}}),ge={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},fe=[ne.a],xe=Object(te.createStore)(he,ge,Object(ae.composeWithDevTools)(te.applyMiddleware.apply(void 0,fe)));s.a.render(Object(a.jsx)(g.a,{store:xe,children:Object(a.jsx)($,{})}),document.getElementById("root")),ee()},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.88e5db77.chunk.js.map